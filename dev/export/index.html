<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Export · ImageColorThresholderApp</title><meta name="title" content="Export · ImageColorThresholderApp"/><meta property="og:title" content="Export · ImageColorThresholderApp"/><meta property="twitter:title" content="Export · ImageColorThresholderApp"/><meta name="description" content="Documentation for ImageColorThresholderApp."/><meta property="og:description" content="Documentation for ImageColorThresholderApp."/><meta property="twitter:description" content="Documentation for ImageColorThresholderApp."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">ImageColorThresholderApp</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../usage/">Usage</a></li><li><a class="tocitem" href="../gui/">GUI</a></li><li class="is-active"><a class="tocitem" href>Export</a><ul class="internal"><li><a class="tocitem" href="#Export-as-function"><span>Export as function</span></a></li><li><a class="tocitem" href="#Export-code-to-file"><span>Export code to file</span></a></li><li><a class="tocitem" href="#Export-as-image"><span>Export as image</span></a></li><li><a class="tocitem" href="#Export-variables"><span>Export variables</span></a></li></ul></li><li><a class="tocitem" href="../cspace/">Adding support for new image color space</a></li><li><a class="tocitem" href="../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Export</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Export</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/rakeshksr/ImageColorThresholderApp.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/rakeshksr/ImageColorThresholderApp.jl/blob/main/docs/src/export.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Export"><a class="docs-heading-anchor" href="#Export">Export</a><a id="Export-1"></a><a class="docs-heading-anchor-permalink" href="#Export" title="Permalink"></a></h1><ul><li><a href="#Export-as-function">Export as function</a></li><li><a href="#Export-code-to-file">Export code to file</a></li><li><a href="#Export-as-image">Export as image</a></li><li><a href="#Export-variables">Export variables</a></li></ul><p><strong>ImageColorThresholderApp</strong> gui makes possible to export progress to workspace and file to do furthur analysis on images. </p><h2 id="Export-as-function"><a class="docs-heading-anchor" href="#Export-as-function">Export as function</a><a id="Export-as-function-1"></a><a class="docs-heading-anchor-permalink" href="#Export-as-function" title="Permalink"></a></h2><p>After changing interval sliders as per use case, select <strong>Export</strong> button. It exports selection to workspace as function named <a href="../api/#ImageColorThresholderApp.image_color_threshold"><code>image_color_threshold</code></a>. <a href="../api/#ImageColorThresholderApp.image_color_threshold"><code>image_color_threshold</code></a> takes image, background color(optional) as inputs, if background color omitted it takes black as background color, it returns mask and thresholded image.</p><p>Without background color</p><pre><code class="language-julia hljs">mask, timg1 = image_color_threshold(img)

timg1</code></pre><p><img src="../assets/nobg.png" alt="nobg"/></p><p>With backgound color(magenta)</p><pre><code class="language-julia hljs">mask, timg2 = image_color_threshold(img, RGB(1, 0, 1))

timg2</code></pre><p><img src="../assets/magentabg.png" alt="magentabg"/></p><p>in both cases mask image is same</p><pre><code class="language-julia hljs">Gray.(mask)</code></pre><p><img src="../assets/mask.png" alt="mask"/></p><h2 id="Export-code-to-file"><a class="docs-heading-anchor" href="#Export-code-to-file">Export code to file</a><a id="Export-code-to-file-1"></a><a class="docs-heading-anchor-permalink" href="#Export-code-to-file" title="Permalink"></a></h2><p>Enter valid julia file path in <strong>Julia file path textbox</strong> then press enter, after select Export button. Export button exports selection to workspace and write as julia code in given file path. If julia file not exists at given location it creates automatically, if exists it overwrites file content.</p><p>Sample file path</p><p><code>/home/programs/export.jl</code></p><p>Sample exported code</p><pre><code class="language-julia hljs">function image_color_threshold(img::Matrix{RGB{T}}, bg=RGB(0.0,0.0,0.0)) where {T}
    mask = map(img) do pix
        _cnd = (0.0 &lt;= getproperty(pix, :r) &lt;= 1.0) &amp;&amp; (0.5607843137254902 &lt;= getproperty(pix, :g) &lt;= 1.0) &amp;&amp; (0.0 &lt;= getproperty(pix, :b) &lt;= 1.0)
        !(_cnd)
    end
    new_img = deepcopy(img)
    new_img[.!mask] .= bg
    return (mask, new_img)
end</code></pre><h2 id="Export-as-image"><a class="docs-heading-anchor" href="#Export-as-image">Export as image</a><a id="Export-as-image-1"></a><a class="docs-heading-anchor-permalink" href="#Export-as-image" title="Permalink"></a></h2><p>As previous mentioned export as function then</p><pre><code class="language-julia hljs">using FileIO

mask, timg = image_color_threshold(img)

# Save thresholded image
save(&quot;thresholded_image.png&quot;, timg)

# Save mask as image
save(&quot;mask.png&quot;, Gray.(mask))</code></pre><h2 id="Export-variables"><a class="docs-heading-anchor" href="#Export-variables">Export variables</a><a id="Export-variables-1"></a><a class="docs-heading-anchor-permalink" href="#Export-variables" title="Permalink"></a></h2><p><a href="https://github.com/JuliaIO/JLD2.jl">JLD2</a> useful to export <code>mask</code> and <code>thresholed image</code> to JLD2 file which can be used in different julia sessions.</p><pre><code class="language-julia hljs">using JLD2

mask, timg = image_color_threshold(img, bg)

jldsave(&quot;export.jld2&quot;; mask, timg)</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../gui/">« GUI</a><a class="docs-footer-nextpage" href="../cspace/">Adding support for new image color space »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Wednesday 22 November 2023 17:28">Wednesday 22 November 2023</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
